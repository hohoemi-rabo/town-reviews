# 013: アクセシビリティ対応

## 概要
WCAG 2.1 レベルAA準拠のアクセシビリティ実装

## 優先度
🟡 高

## 見積もり時間
5時間

## Phase
継続的改善

## 詳細仕様

### WCAG 2.1 レベルAA要件

#### 1. 知覚可能（Perceivable）
- テキストの代替（alt属性）
- 時間依存メディアの代替
- 適応可能なコンテンツ
- 判別可能なコンテンツ

#### 2. 操作可能（Operable）
- キーボードアクセシブル
- 十分な時間
- 発作の防止
- ナビゲート可能

#### 3. 理解可能（Understandable）
- 読みやすさ
- 予測可能
- 入力支援

#### 4. 堅牢性（Robust）
- 互換性
- 支援技術との互換性

### 具体的な対応

#### コントラスト比
- テキスト: 4.5:1以上
- 大きなテキスト: 3:1以上
- UI要素: 3:1以上

#### キーボード操作
- すべての機能がキーボードで操作可能
- フォーカス順序が論理的
- フォーカスインジケータが明確

#### スクリーンリーダー対応
- 適切なセマンティックHTML
- ARIA属性の適切な使用
- ランドマークの設定

#### 文字サイズ調整
- 200%までズーム可能
- レイアウト崩れなし

## 実装タスク

- [ ] セマンティックHTML見直し
  - [ ] heading階層の確認
  - [ ] landmarkの設定（header, nav, main, footer）
  - [ ] リスト構造の適切な使用
- [ ] ARIA属性追加
  - [ ] `aria-label`
  - [ ] `aria-labelledby`
  - [ ] `aria-describedby`
  - [ ] `aria-live`（動的コンテンツ）
  - [ ] `role`属性
- [ ] キーボード操作対応
  - [ ] フォーカストラップ（モーダル）
  - [ ] Tab順序の確認
  - [ ] Enter/Spaceキーでボタン操作
  - [ ] Escキーでモーダル閉じる
  - [ ] 矢印キーでナビゲーション
- [ ] コントラスト比チェック
  - [ ] 色覚検証ツール使用
  - [ ] コントラストチェッカーで確認
  - [ ] 問題箇所の修正
- [ ] 画像alt属性
  - [ ] すべての画像にalt追加
  - [ ] 装飾画像は空alt
- [ ] フォーム改善
  - [ ] labelとinputの関連付け
  - [ ] エラーメッセージの明確化
  - [ ] 必須項目の明示
- [ ] 文字サイズ調整機能
  - [ ] rem単位の使用
  - [ ] ズーム対応確認
- [ ] スクリーンリーダーテスト
  - [ ] NVDA（Windows）
  - [ ] VoiceOver（Mac/iOS）
  - [ ] TalkBack（Android）
- [ ] 自動テスト導入
  - [ ] axe-core導入
  - [ ] eslint-plugin-jsx-a11y設定
  - [ ] CI/CDパイプラインに統合

## 関連ファイル
- `src/app/layout.tsx` (更新)
- `src/components/**/*.tsx` (全コンポーネント見直し)
- `.eslintrc.json` (更新)
- `src/lib/a11y.ts` (作成)
- `tailwind.config.ts` (更新)

## 完了条件
- [×] WCAG 2.1 レベルAA要件を満たす
- [×] axe-core自動テストパス
- [×] スクリーンリーダーで操作可能
- [×] キーボードのみで全機能利用可能
- [×] コントラスト比が基準を満たす
- [×] 文字サイズ200%でレイアウト崩れなし

## 備考
- アクセシビリティは継続的な改善が必要
- 新機能追加時は必ずa11yチェック
- ユーザーからのフィードバックを反映
- 年1回のアクセシビリティ監査実施
